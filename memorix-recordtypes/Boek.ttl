@prefix book:         </resources/recordtypes/Book#> .
@prefix dash:         <http://datashapes.org/dash#> .
@prefix dc:           <http://purl.org/dc/elements/1.1/> .
@prefix html:         <http://www.w3.org/1999/xhtml/> .
@prefix memorix:      <http://memorix.io/ontology#> .
@prefix owl:          <http://www.w3.org/2002/07/owl#> .
@prefix rdf:          <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:         <http://www.w3.org/2000/01/rdf-schema#> .
@prefix ric-dft:      <https://www.ica.org/standards/RiC/vocabularies/documentaryFormTypes#> .
@prefix ric-rst:      <https://www.ica.org/standards/RiC/vocabularies/recordSetTypes#> .
@prefix rico:         <https://www.ica.org/standards/RiC/ontology#> .
@prefix rt:           </resources/recordtypes/> .
@prefix saa:          <https://data.archief.amsterdam/ontology#> .
@prefix schema:       <http://schema.org/> .
@prefix sh:           <http://www.w3.org/ns/shacl#> .
@prefix skos:         <http://www.w3.org/2004/02/skos/core#> .
@prefix vocabularies: </resources/vocabularies/conceptschemes/> .
@prefix xsd:          <http://www.w3.org/2001/XMLSchema#> .

book:identificationGroup
    rdf:type   sh:PropertyGroup ;
    rdfs:label "Identificatie"@nl, "Identification"@en ;
    sh:order   1.0 .

book:contentDescriptionGroup
    rdf:type   sh:PropertyGroup ;
    rdfs:label "Description"@en, "Beschrijving"@nl ;
    sh:order   1.0 .

book:managementGroup
    rdf:type   sh:PropertyGroup ;
    rdfs:label "Manage"@en, "Beheer"@nl ;
    sh:order   2.0 .

rt:Book
    rdf:type             memorix:Recordtype, sh:NodeShape ;
    rdfs:comment         "Stadsarchief recordtype voor Boek"@nl ;
    rdfs:label           "Book"@en, "Boek"@nl ;
    dc:identifier        "Book" ;
    sh:closed            true ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property          book:InventorynumberShape, book:TitleShape, book:ISBNShape, book:NotaBeneShape, book:HasPublicationShape, book:AuthorShape ;
    sh:property          book:InternalRemarksShape, book:StatusShape ;
    sh:targetClass       rt:Book .

book:InventorynumberShape
    rdf:type             sh:PropertyShape ;
    rdfs:label           "Inventarisnummer"@nl, "Inventory number"@en ;
    memorix:inTitleAt    1.0 ;
    memorix:searchWeight 5.0 ;
    sh:datatype          xsd:string ;
    sh:group             book:identificationGroup ;
    sh:order             1.0 ;
    sh:path              rico:Identifier .

book:TitleShape
    rdf:type             sh:PropertyShape ;
    rdfs:label           "Title"@en, "Titel"@nl ;
    memorix:inTitleAt    2.0 ;
    memorix:searchWeight 5.0 ;
    sh:datatype          xsd:string ;
    sh:group             book:identificationGroup ;
    sh:order             2.0 ;
    sh:path              schema:name .

book:ISBNShape
    rdf:type             sh:PropertyShape ;
    rdfs:label           "ISBN"@en, "ISBN"@nl ;
    memorix:inSummaryAt  1.0 ;
    memorix:searchWeight 8.0 ;
    sh:datatype          xsd:string ;
    sh:group             book:identificationGroup ;
    sh:order             3.0 ;
    sh:path              schema:isbn .

book:NotaBeneShape
    rdf:type        sh:PropertyShape ;
    rdfs:label      "Nota bene"@nl, "Note"@en ;
    rdfs:comment    "Uitgebreidere beschrijving, afkomstig uit NB velden"@nl, "A more descriptive note"@en ;
    dash:singleLine false ;
    dash:editor     dash:TextAreaEditor ;
    sh:datatype     xsd:string ;
    sh:group        book:contentDescriptionGroup ;
    sh:maxCount     1 ;
    sh:order        1.0 ;
    sh:path         schema:description .

book:HasPublicationShape
    rdf:type    sh:PropertyShape ;
    rdfs:label  "Uitgave"@en, "Publicatie"@nl ;
    sh:nodeKind sh:BlankNode ;
    sh:group    book:contentDescriptionGroup ;
    sh:order    2.0 ;
    sh:class    schema:PublicationEvent ;
    sh:path     schema:publication .

book:AuthorShape
    rdf:type     sh:PropertyShape ;
    rdfs:label   "Auteur"@nl, "Author"@en ;
    rdfs:comment "Een of meerdere auteurs."@nl, "One or more authors."@en ;
    dash:editor  memorix:LinkedRecordEditor ;
    sh:group     book:contentDescriptionGroup ;
    sh:maxCount  100 ;
    sh:message   "Kies een auteur."@nl, "Choose a related author."@en ;
    sh:nodeKind  sh:IRI ;
    sh:or       ( [ sh:class rt:Person ] [ sh:class rt:Organisation ] [ sh:class rt:Family ] ) ;
    sh:order     10.0 ;
    sh:path      schema:author .

schema:PublicationEvent
    a                    sh:NodeShape ;
    sh:closed            true ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:targetClass       schema:PublicationEvent ;
    sh:property          [ rdfs:label  "Jaar van uitgave"@nl, "Year of publication"@en ;
                           sh:path     schema:startDate ;
                           sh:order    1.0 ;
                           sh:maxCount 1 ;
                           sh:datatype xsd:gYear ;
                         ] ;
    sh:property          [ rdfs:label  "Plaats van uitgave"@nl, "Publication place"@en ;
                           sh:path     schema:location ;
                           sh:order    3.0 ;
                           sh:maxCount 1 ;
                           sh:datatype xsd:string ;
                         ] ;
    sh:property          [ rdfs:label  "Uitgever"@nl, "Organizer"@en ;
                           sh:path     schema:name ;
                           sh:order    3.0 ;
                           sh:maxCount 1 ;
                           sh:datatype xsd:string ;
                         ] ; .

book:InternalRemarksShape
    rdf:type    sh:PropertyShape ;
    rdfs:label  "Internal remark"@en, "Interne opmerking"@nl ;
    dash:editor dash:TextAreaEditor ;
    sh:datatype xsd:string ;
    sh:group    book:managementGroup ;
    sh:maxCount 1 ;
    sh:order    1.0 ;
    sh:path     book:internalRemarks .

book:StatusShape
    rdf:type         sh:PropertyShape ;
    rdfs:comment     "Status van het inventarisnummer/boek."@nl ;
    sh:message       "Status is verplicht. Moet een van de volgende waardes zijn: aanwezig, vervallen, te vernietigen, vermist, vernietigd"@nl,
                     "Must be one of the following (Dutch) terms: aanwezig, vervallen, te vernietigen, vermist, vernietigd. Mandatory." ;
    rdfs:label       "Status"@nl, "Status"@en ;
    dash:editor      dash:EnumSelectEditor ;
    memorix:audience memorix:audienceInternal ;
    sh:group         book:managementGroup ;
    sh:in            ( "aanwezig" "vervallen" "vermist" "vernietigd" ) ;
    sh:message       "Status is verplicht. Moet een van de volgende waardes zijn: aanwezig, vervallen, vermist, vernietigd"@nl,
                     "Must be one of the following (Dutch) terms: aanwezig, vervallen, vermist, vernietigd. Mandatory."@en ;
    sh:minCount      1 ;
    sh:maxCount      1 ;
    sh:order         2.0 ;
    sh:path          book:status .

