@prefix dash:           <http://datashapes.org/dash#> .
@prefix dc:             <http://purl.org/dc/elements/1.1/> .
@prefix digitalDossier: </resources/recordtypes/DigitalDossier#> .
@prefix digitalRecord:  </resources/recordtypes/DigitalRecord#> .
@prefix html:           <http://www.w3.org/1999/xhtml/> .
@prefix memorix:        <http://memorix.io/ontology#> .
@prefix owl:            <http://www.w3.org/2002/07/owl#> .
@prefix pnv:            <https://w3id.org/pnv#> .
@prefix rdf:            <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:           <http://www.w3.org/2000/01/rdf-schema#> .
@prefix ric-dft:        <https://www.ica.org/standards/RiC/vocabularies/documentaryFormTypes#> .
@prefix ric-rst:        <https://www.ica.org/standards/RiC/vocabularies/recordSetTypes#> .
@prefix rico:           <https://www.ica.org/standards/RiC/ontology#> .
@prefix rt:             </resources/recordtypes/> .
@prefix saa:            <https://data.archief.amsterdam/ontology#> .
@prefix schema:         <http://schema.org/> .
@prefix sh:             <http://www.w3.org/ns/shacl#> .
@prefix skos:           <http://www.w3.org/2004/02/skos/core#> .
@prefix vocabularies:   </resources/vocabularies/conceptschemes/> .
@prefix xsd:            <http://www.w3.org/2001/XMLSchema#> .

rt:DigitalDossier  rdf:type   sh:NodeShape , memorix:Recordtype;
        rdfs:comment          "Digital Dossier: a set of digital files created together, such as a building file or documents of a meeting"@en , "Digitaal Dossier: geheel van digitale bestanden die in samenhang gemaakt zijn, zoals een bouwdossier of vergaderstukken"@nl;
        rdfs:label            "Digital Dossier"@en , "Digitaal Dossier"@nl;
        memorix:hasInformationComponent
                [ rdf:type  memorix:DigitalAssetComponent ];
        memorix:typeOf        memorix:File;
        dc:identifier         "DigitalDossier";
        sh:closed             true;
        sh:ignoredProperties  ( rdf:type );
        sh:property           [ rdfs:label   "Specification"@en , "Kenmerk"@nl;
                                sh:class     saa:Specification;
                                sh:group     digitalDossier:specialGroup;
                                sh:maxCount  100;
                                sh:nodeKind  sh:BlankNode;
                                sh:order     7.0;
                                sh:path      saa:hasSpecification
                              ];
        sh:property           [ rdfs:label            "Identificatiekenmerk"@nl , "Identification value"@en;
                                dash:singleLine       true;
                                memorix:inSummaryAt   5.0;
                                memorix:searchWeight  3.0;
                                memorix:typeOf        memorix:Identifier;
                                sh:datatype           xsd:string;
                                sh:description        "External identification value, as provided upon intake."@en , "Unieke externe identificatiekenmerk, zoals aangeleverd in de metadata."@nl;
                                sh:group              digitalDossier:identificationGroup;
                                sh:maxCount           1;
                                sh:order              5.0;
                                sh:path               rico:identifier
                              ];
        sh:property           [ rdfs:comment  "Straatnamen en huisnummers"@nl , "Street and house number"@en;
                                rdfs:label    "Associated with address"@en , "Betreffend adres"@nl;
                                sh:class      saa:Address;
                                sh:group      digitalDossier:locationsGroup;
                                sh:maxCount   2500;
                                sh:nodeKind   sh:BlankNode;
                                sh:order      1.0;
                                sh:path       digitalDossier:isAssociatedWithAddress
                              ];
        sh:property           [ rdfs:label      "Overige dateringen"@nl , "Associated dates"@en;
                                sh:class        saa:RelatedDate;
                                sh:description  "Other associated dates"@en , "Andere dateringen zoals b.v. aanvraagdatum"@nl;
                                sh:group        digitalDossier:contentDescriptionGroup;
                                sh:maxCount     10;
                                sh:nodeKind     sh:BlankNode;
                                sh:order        4.0;
                                sh:path         digitalDossier:isAssociatedWithDate
                              ];
        sh:property           [ rdfs:label            "Beschrijving"@nl , "Title"@en;
                                dash:editor           dash:TextAreaEditor;
                                dash:singleLine       false;
                                memorix:inTitleAt     2.0;
                                memorix:searchWeight  5.0;
                                sh:datatype           xsd:string;
                                sh:description        "Title or short description"@en , "Korte beschrijving van dit dossier"@nl;
                                sh:group              digitalDossier:identificationGroup;
                                sh:maxCount           1;
                                sh:minCount           1;
                                sh:order              4.0;
                                sh:path               rico:title
                              ];
        sh:property           [ rdfs:label            "Date of publication"@en , "Publicatiedatum"@nl;
                                memorix:searchWeight  3.0;
                                sh:datatype           xsd:date;
                                sh:group              digitalDossier:legacyDate;
                                sh:maxCount           1;
                                sh:order              3.0;
                                sh:path               rico:isAssociatedWithDate
                              ];
        sh:property           [ rdfs:label   "Activity"@en , "Activiteit"@nl;
                                sh:class     rico:Activity;
                                sh:group     digitalDossier:managementGroup;
                                sh:maxCount  1;
                                sh:nodeKind  sh:BlankNode;
                                sh:order     11.0;
                                sh:path      rico:isAssociatedWithEvent
                              ];
        sh:property           [ rdfs:label            "Dossier number"@en , "Dossiernummer"@nl;
                                dash:singleLine       true;
                                memorix:inSummaryAt   4.0;
                                memorix:searchWeight  3.0;
                                sh:datatype           xsd:string;
                                sh:description        "Please provide a dossier number if possible."@en , "Vul als het kan een dossiernummer in. Niet verplicht maar handig ter identificatie."@nl;
                                sh:group              digitalDossier:identificationGroup;
                                sh:maxCount           1;
                                sh:order              3.0;
                                sh:path               rico:name
                              ];
        sh:property           [ rdfs:label      "Zie ook - dossier"@nl , "See related digital dossier"@en;
                                dash:editor     memorix:LinkedRecordEditor;
                                sh:description  "Link to a related digital dossier. Use sparingly."@en , "Verwijzing naar een ander dossier. Spaarzaam gebruiken."@nl;
                                sh:group        digitalDossier:contentDescriptionGroup;
                                sh:maxCount     50;
                                sh:nodeKind     sh:IRI;
                                sh:or           ( [ sh:class  rt:DigitalDossier ]
                                                );
                                sh:order        5.0;
                                sh:path         rdfs:seeAlso
                              ];
        sh:property           [ rdfs:label      "Fonds"@en , "Archief"@nl;
                                dash:editor     memorix:LinkedRecordEditor;
                                memorix:typeOf  memorix:FondsFieldLink;
                                memorix:inSummaryAt  1;
                                sh:description  "Archief waar dit dossier bij hoort"@nl , "Fonds to which this dossier belongs"@en;
                                sh:group        digitalDossier:identificationGroup;
                                sh:maxCount     1;
                                sh:message      "Kies een archief waar dit dossier uit komt."@nl , "Choose a fonds where this dossier belongs to."@en;
                                sh:nodeKind     sh:IRI;
                                sh:or           ( [ sh:class  rt:Fonds ]
                                                );
                                sh:order        1.0;
                                sh:path         rico:isOrWasIncludedIn
                              ];
        sh:property           [ rdfs:comment          "Kan een exacte datum of een periode zijn"@nl , "Exact date or date range"@en;
                                rdfs:label            "Dated"@en , "Datering"@nl;
                                memorix:searchWeight  3.0;
                                sh:class              rico:DateRange;
                                sh:group              digitalDossier:contentDescriptionGroup;
                                sh:maxCount           1;
                                sh:nodeKind           sh:BlankNode;
                                sh:order              1.0;
                                sh:path               saa:isAssociatedWithDate
                              ];
        sh:property           [ rdfs:label        "AIP identifier"@nl , "AIP identifier"@en;
                                memorix:audience  memorix:AudienceInternal;
                                sh:datatype       xsd:string;
                                sh:group          digitalDossier:managementGroup;
                                sh:order          10.0;
                                sh:path           digitalDossier:aipIdentifier
                              ];
        sh:property           [ rdfs:label        "Internal remarks"@en , "Interne opmerkingen"@nl;
                                dash:editor       dash:TextAreaEditor;
                                memorix:audience  memorix:AudienceInternal;
                                sh:datatype       xsd:string;
                                sh:description    "Veld voor allerlei interne opmerkingen. Wordt niet gepubliceerd."@nl , "Divers remarks intended for internal administration"@en;
                                sh:group          digitalDossier:managementGroup;
                                sh:maxCount       1;
                                sh:order          9.0;
                                sh:path           saa:internalRemarks
                              ];
        sh:property           [ rdf:type      sh:PropertyShape;
                                rdfs:comment  "Date of creation of the record"@en , "Datum van vorming van het dossier"@nl;
                                rdfs:label    "Datering"@nl , "Dates Resource"@en;
                                memorix:hidden    true;
                                sh:datatype   xsd:date;
                                sh:group      digitalDossier:legacyDate;
                                sh:maxCount   1;
                                sh:order      1.0;
                                sh:path       digitalDossier:dateRecordResource
                              ];
        sh:property           [ rdfs:label       "Nadere toelichting"@nl , "Additional notes"@en;
                                dash:editor      dash:TextAreaEditor;
                                dash:singleLine  false;
                                sh:datatype      xsd:string;
                                sh:description   "Addition notes coming from the original application"@en , "Een nadere toelichting op het dossier, vaak aanvullende informatie uit een specifiek extern systeem"@nl;
                                sh:group         digitalDossier:contentDescriptionGroup;
                                sh:maxCount      1;
                                sh:order         0.5;
                                sh:path          rico:scopeAndContent
                              ];
        sh:property           [ rdfs:label               "Dossiertype"@nl , "Type of dossier"@en;
                                dash:editor              memorix:VocabularyEditor;
                                memorix:conceptSchemeIn  vocabularies:dc9f4245-fd42-4d5f-bc8f-0d0afd9aed53;
                                memorix:inTitleAt        1.0;
                                memorix:searchWeight     3.0;
                                sh:class                 skos:Concept;
                                sh:group                 digitalDossier:identificationGroup;
                                sh:maxCount              1;
                                sh:nodeKind              sh:IRI;
                                sh:order                 2.0;
                                sh:path                  rico:hasDocumentaryFormType
                              ];
        sh:targetClass        rt:DigitalDossier .

rico:Activity  rdf:type       sh:NodeShape;
        sh:closed             true;
        sh:ignoredProperties  ( rdf:type );
        sh:property           [ rdfs:label   "Reason/background of the activity"@en , "Grondslag"@nl;
                                sh:datatype  xsd:string;
                                sh:maxCount  1;
                                sh:order     3.0;
                                sh:path      digitalDossier:activityBackground
                              ];
        sh:property           [ rdfs:comment  "Can be a specific date (than fill in the same date twice) or a daterange"@en , "Kan een exacte datum (vul dan twee keer dezelfde datum in) of een periode zijn"@nl;
                                rdfs:label    "Dates"@en , "Datering activiteit"@nl;
                                sh:datatype   xsd:date;
                                sh:maxCount   1;
                                sh:order      2.0;
                                sh:path       digitalDossier:dateActivity
                              ];
        sh:property           [ rdfs:label   "Planned activity"@en , "Geplande activiteit"@nl;
                                sh:datatype  xsd:string;
                                sh:maxCount  1;
                                sh:order     1.0;
                                sh:path      rico:hasActivityType
                              ];
        sh:targetClass        rico:Activity .

saa:Address  rdf:type         sh:NodeShape;
        rdfs:subClassOf       rico:Place;
        sh:closed             true;
        sh:ignoredProperties  ( rdf:type );
        sh:property           [ rdfs:label       "Location (BAG) identifier"@en , "Locatie (BAG) identifier"@nl;
                                dash:singleLine  true;
                                sh:datatype      xsd:string;
                                sh:description   "BAG identifier (alleen cijfers)"@nl , "BAG identifier, containing only numbers"@en;
                                sh:maxCount      1000;
                                sh:message       "De waarde moet een BAG identifier zijn (uitsluitend cijfers)"@nl , "Value must be a BAG ID conatining solely numbers"@en;
                                sh:order         11.0;
                                sh:path          digitalDossier:hasOrHadSubjectBAGIdentifier
                              ];
        sh:property           [ rdfs:label               "Street name"@en , "Straatnaam"@nl;
                                dash:editor              memorix:VocabularyEditor;
                                memorix:conceptSchemeIn  vocabularies:a4863c0c-d9e5-3902-831a-d0960e381a41;
                                sh:class                 skos:Concept;
                                sh:maxCount              1;
                                sh:nodeKind              sh:IRI;
                                sh:order                 2.0;
                                sh:path                  saa:street
                              ];
        sh:property           [ rdfs:label      "Locatie URI (Adamlink)"@nl , "Location URI (Adamlink)"@en;
                                dash:editor     memorix:IriEditor;
                                sh:description  "Please provide a Adamlink URI"@en , "Plak hier eeen Adamlink URI in"@nl;
                                sh:flags        "i";
                                sh:maxCount     1000;
                                sh:message      "Waarde moet beginnen met http of https"@nl , "Value must start with http:// or https://"@en;
                                sh:nodeKind     sh:IRI;
                                sh:order        12.0;
                                sh:path         digitalDossier:hasOrHadSubjectLocation;
                                sh:pattern      "^https?://"
                              ];
        sh:property           [ rdfs:label   "House number from"@en , "Huisnummer van"@nl;
                                sh:datatype  xsd:string;
                                sh:maxCount  1;
                                sh:order     3.0;
                                sh:path      saa:houseNumberBegin
                              ];
        sh:property           [ rdfs:label      "Street name in external source"@en , "Straatnaam (werkveld)"@nl;
                                sh:datatype     xsd:string;
                                sh:description  "Temporary field to receive all sorts of street names"@en , "Tijdelijk veld om ongestandaardiseerde straten in op te slaan"@nl;
                                sh:maxCount     1;
                                sh:order        1.0;
                                sh:path         digitalDossier:streetTextualValue
                              ];
        sh:property           [ rdfs:label      "Locatie URI (BAG)"@nl , "Location URI (BAG)"@en;
                                dash:editor     memorix:IriEditor;
                                sh:description  "Please provide a BAG URI"@en , "Plak hier eeen BAG URI in"@nl;
                                sh:flags        "i";
                                sh:maxCount     1000;
                                sh:message      "Value must start with http:// or https://"@en , "Waarde moet beginnen met http of https"@nl;
                                sh:nodeKind     sh:IRI;
                                sh:order        10.0;
                                sh:path         digitalDossier:hasOrHadSubjectBAGLocation;
                                sh:pattern      "^https?://"
                              ];
        sh:property           [ rdfs:label       "Postal code"@en , "Postcode"@nl;
                                dash:singleLine  true;
                                sh:datatype      xsd:string;
                                sh:maxCount      1;
                                sh:order         5.0;
                                sh:path          saa:postalCode
                              ];
        sh:property           [ rdfs:label   "House number from"@en , "Huisnummer tot"@nl;
                                sh:datatype  xsd:string;
                                sh:maxCount  1;
                                sh:order     4.0;
                                sh:path      saa:houseNumberEnd
                              ];
        sh:property           [ rdfs:label        "Locatie coordinates"@en , "Locatie co√∂rdinaten"@nl;
                                dash:editor       memorix:LocationCoordinatesEditor;
                                memorix:audience  memorix:AudienceInternal;
                                sh:class          memorix:GeoCoordinates;
                                sh:maxCount       1;
                                sh:order          13.0;
                                sh:path           digitalDossier:hasOrHadSubjectCoordinates
                              ];
        sh:targetClass        saa:Address .

digitalDossier:contentDescriptionGroup
        rdf:type    sh:PropertyGroup;
        rdfs:label  "Description"@en , "Beschrijving"@nl;
        sh:order    20.0 .

saa:Specification  rdf:type   sh:NodeShape;
        sh:closed             true;
        sh:ignoredProperties  ( rdf:type );
        sh:property           [ rdfs:label   "Detail"@en , "Kenmerk"@nl;
                                sh:datatype  xsd:string;
                                sh:maxCount  1;
                                sh:order     2.0;
                                sh:path      saa:specificationTextualValue
                              ];
        sh:property           [ rdfs:label               "Detail type"@en , "Type Kenmerk"@nl;
                                dash:editor              memorix:VocabularyEditor;
                                memorix:conceptSchemeIn  vocabularies:ddc09257-ebd7-404f-93bf-fe95e1412cb0;
                                sh:class                 skos:Concept;
                                sh:maxCount              1;
                                sh:nodeKind              sh:IRI;
                                sh:order                 1.0;
                                sh:path                  saa:specificationType
                              ];
        sh:targetClass        saa:Specification .

digitalDossier:legacyDate
        rdf:type    sh:PropertyGroup;
        rdfs:label  "Date (legacy)"@en , "Datering (legacy)"@nl;
        sh:order    45.0 .

digitalDossier:identificationGroup
        rdf:type    sh:PropertyGroup;
        rdfs:label  "Identification"@en , "Identificatie"@nl;
        sh:order    10.0 .

digitalDossier:managementGroup
        rdf:type    sh:PropertyGroup;
        rdfs:label  "Manage"@en , "Beheer"@nl;
        sh:order    60.0 .

digitalDossier:locationsGroup
        rdf:type    sh:PropertyGroup;
        rdfs:label  "Locations"@en , "Locaties"@nl;
        sh:order    30.0 .

rico:DateRange  rdf:type      sh:NodeShape;
        sh:closed             true;
        sh:ignoredProperties  ( rdf:type );
        sh:property           [ rdfs:label           "End date"@en , "Einddatum"@nl;
                                memorix:inSummaryAt  3.0;
                                sh:datatype          xsd:date;
                                sh:maxCount          1;
                                sh:order             3.0;
                                sh:path              rico:hasEndDate
                              ];
        sh:property           [ rdfs:label           "Begin date"@en , "Begindatum"@nl;
                                memorix:inSummaryAt  2.0;
                                sh:datatype          xsd:date;
                                sh:maxCount          1;
                                sh:order             2.0;
                                sh:path              rico:hasBeginningDate
                              ];
        sh:property           [ rdfs:label   "Date (text)"@en , "Datum (tekst)"@nl;
                                memorix:hidden    true;
                                sh:datatype  xsd:string;
                                sh:maxCount  1;
                                sh:order     1.0;
                                sh:path      rico:expressedDate
                              ];
        sh:targetClass        rico:DateRange .

digitalDossier:specialGroup
        rdf:type    sh:PropertyGroup;
        rdfs:label  "Specific details"@en , "Specifieke kenmerken"@nl;
        sh:order    40.0 .

saa:RelatedDate  rdf:type     sh:NodeShape;
        sh:closed             true;
        sh:ignoredProperties  ( rdf:type );
        sh:property           [ rdfs:label       "Year"@en , "Jaar"@nl;
                                sh:datatype      xsd:gYear;
                                sh:maxCount      1;
                                sh:maxInclusive  "2200"^^xsd:gYear;
                                sh:minInclusive  "1200"^^xsd:gYear;
                                sh:order         3.0;
                                sh:path          saa:relatedYearValue
                              ];
        sh:property           [ rdfs:label   "Date"@en , "Datum"@nl;
                                sh:datatype  xsd:date;
                                sh:maxCount  1;
                                sh:order     2.0;
                                sh:path      saa:relatedDateValue
                              ];
        sh:property           [ rdfs:label   "Date type"@en , "Type datum"@nl;
                                dash:editor  dash:EnumSelectEditor;
                                sh:datatype  xsd:string;
                                sh:in        ( "aanvraagdatum" "adviesdatum" "begindatum" "besluitdatum" "einddatum" "ondertekendatum" "rapportdatum" "vaststellingsdatum" "vergaderdatum" );
                                sh:maxCount  1;
                                sh:order     1.0;
                                sh:path      saa:relatedDateType
                              ];
        sh:targetClass        saa:RelatedDate .

