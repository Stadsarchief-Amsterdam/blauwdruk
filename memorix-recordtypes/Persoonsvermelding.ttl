@prefix dash:              <http://datashapes.org/dash#> .
@prefix dc:                <http://purl.org/dc/elements/1.1/> .
@prefix html:              <http://www.w3.org/1999/xhtml/> .
@prefix memorix:           <http://memorix.io/ontology#> .
@prefix owl:               <http://www.w3.org/2002/07/owl#> .
@prefix person:            </resources/recordtypes/Person#> .
@prefix personObservation: </resources/recordtypes/PersonObservation#> .
@prefix pnv:               <https://w3id.org/pnv#> .
@prefix rdf:               <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:              <http://www.w3.org/2000/01/rdf-schema#> .
@prefix ric-dft:           <https://www.ica.org/standards/RiC/vocabularies/documentaryFormTypes#> .
@prefix ric-rst:           <https://www.ica.org/standards/RiC/vocabularies/recordSetTypes#> .
@prefix rico:              <https://www.ica.org/standards/RiC/ontology#> .
@prefix rt:                </resources/recordtypes/> .
@prefix saa:               <https://data.archief.amsterdam/ontology#> .
@prefix schema:            <http://schema.org/> .
@prefix sh:                <http://www.w3.org/ns/shacl#> .
@prefix skos:              <http://www.w3.org/2004/02/skos/core#> .
@prefix vocabularies:      </resources/vocabularies/conceptschemes/> .
@prefix xsd:               <http://www.w3.org/2001/XMLSchema#> .

personObservation:personListingGroup
        rdf:type    sh:PropertyGroup;
        rdfs:label  "Persoonsvermelding"@nl , "Person observation"@en;
        sh:order    1.0 .

personObservation:addressGroup
        rdf:type    sh:PropertyGroup;
        rdfs:label  "Adres"@nl , "Address"@en;
        sh:order    2.0 .
        
personObservation:locationGroup
        rdf:type    sh:PropertyGroup;
        rdfs:label  "Locatie"@nl , "Location"@en;
        sh:order    3.0 .

personObservation:detailsGroup
        rdf:type    sh:PropertyGroup;
        rdfs:label  "Bijzonderheden"@nl , "Details"@en;
        sh:order    4.0 .

personObservation:alternativeGroup
        rdf:type    sh:PropertyGroup;
        rdfs:label  "Ook bekend als"@nl , "Also known as"@en;
        sh:order    5.0 .
  
personObservation:managementGroup
        rdf:type    sh:PropertyGroup;
        rdfs:label  "Beheer"@nl , "Manage"@en;
        sh:order    6.0 .

rt:PersonObservation  rdf:type  memorix:Recordtype , sh:NodeShape;
        rdfs:comment          "Person Observation: an observation of a person in a deed"@en , "Persoonsvermelding: vermelding van een persoon in een akte"@nl;
        rdfs:label            "Person observation"@en , "Persoonsvermelding"@nl;
        memorix:hasInformationComponent
                [ rdf:type  memorix:DigitalAssetComponent ];
        dc:identifier         "PersonObservation";
        sh:closed             true;
        sh:ignoredProperties  ( rdf:type );
        sh:property           [ rdfs:label   "Adres"@nl , "Address"@en;
                                sh:class     saa:Address;
                                sh:group     personObservation:addressGroup;
                                sh:maxCount  10;
                                sh:nodeKind  sh:BlankNode;
                                sh:order     5.0;
                                sh:path      saa:isAssociatedWithModernAddress
                              ];
        sh:property           [ rdfs:label   "Locaties"@nl , "Locations"@en;
                                sh:class     saa:Location;
                                sh:group     personObservation:locationGroup;
                                sh:maxCount  100;
                                sh:nodeKind  sh:BlankNode;
                                sh:order     12.0;
                                sh:path      saa:isAssociatedWithLocation
                              ];
        sh:property           [ rdfs:comment             "Is same as identified person in external vocabulary"@en , "Is identiek aan geïdentificeerde persoon in andere terminologiebron"@nl;
                                rdfs:label               "Identiek aan (extern)"@nl , "Is same as (external)"@en;
                                dash:editor              memorix:VocabularyEditor;
                                memorix:conceptSchemeIn  <https://www.wikidata.org#entities-persons>;
                                sh:class                 skos:Concept;
                                sh:group                 personObservation:alternativeGroup;
                                sh:maxCount              100;
                                sh:nodeKind              sh:IRI;
                                sh:order                 16.0;
                                sh:path                  owl:sameAs
                              ];
        sh:property           [ rdfs:label            "Overlijdensplaats"@nl , "Place of death"@en;
                                memorix:searchWeight  3.0;
                                sh:datatype           xsd:string;
                                sh:group              personObservation:personListingGroup;
                                sh:maxCount           1;
                                sh:order              5.0;
                                sh:path               schema:deathPlace
                              ];
        sh:property           [ rdfs:label        "Overleden"@nl , "Deceased"@en;
                                memorix:audience  memorix:AudienceInternal;
                                sh:datatype       xsd:boolean;
                                sh:group          personObservation:managementGroup;
                                sh:maxCount       1;
                                sh:order          9.0;
                                sh:path           saa:deceased
                              ];
        sh:property           [ rdfs:label   "Bijzonderheid"@nl , "Details"@en;
                                sh:class     saa:Specification;
                                sh:group     personObservation:detailsGroup;
                                sh:maxCount  100;
                                sh:nodeKind  sh:BlankNode;
                                sh:order     11.0;
                                sh:path      saa:hasSpecification
                              ];
        sh:property           [ rdfs:label            "Overlijdensdatum"@nl , "Date of death"@en;
                                memorix:inSummaryAt   2.0;
                                memorix:searchWeight  3.0;
                                sh:datatype           xsd:date;
                                sh:group              personObservation:personListingGroup;
                                sh:maxCount           1;
                                sh:order              4.0;
                                sh:path               schema:deathDate
                              ];
        sh:property           [ rdfs:label            "Geboorteplaats"@nl , "Place of birth"@en;
                                memorix:searchWeight  3.0;
                                sh:datatype           xsd:string;
                                sh:group              personObservation:personListingGroup;
                                sh:maxCount           1;
                                sh:order              3.0;
                                sh:path               schema:birthPlace
                              ];
        sh:property           [ rdfs:label   "Naam"@nl , "Name"@en;
                                sh:class     pnv:PersonName;
                                sh:group     personObservation:personListingGroup;
                                sh:maxCount  1;
                                sh:nodeKind  sh:BlankNode;
                                sh:order     1.0;
                                sh:path      pnv:hasName
                              ];
        sh:property           [ rdfs:label   "Leeftijdsvermelding in bron"@nl , "Age as mentioned in the original document"@en;
                                sh:datatype  xsd:string;
                                sh:group     personObservation:personListingGroup;
                                sh:maxCount  1;
                                sh:order     6.0;
                                sh:path      saa:age
                              ];
        sh:property           [ rdfs:label      "Location IRI"@en , "Locatie IRI"@nl;
                                dash:editor     memorix:IriEditor;
                                memorix:hidden  true;
                                sh:description  "IRI naar een externe locatie identifier (BAG, Adamlink of anders)"@nl , "IRI of external location (BAG, Adamlink or other)"@en;
                                sh:flags        "i";
                                sh:group        personObservation:addressGroup;
                                sh:maxCount     10;
                                sh:message      "Waarde moet beginnen met http of https"@nl , "Value must start with http:// or https://"@en;
                                sh:nodeKind     sh:IRI;
                                sh:order        12.0;
                                sh:path         personObservation:hasOrHadSubjectLocation;
                                sh:pattern      "^https?://"
                              ];
        sh:property           [ rdfs:label            "Geboortedatum"@nl , "Date of birth"@en;
                                memorix:inSummaryAt   1.0;
                                memorix:searchWeight  3.0;
                                sh:datatype           xsd:date;
                                sh:group              personObservation:personListingGroup;
                                sh:maxCount           1;
                                sh:order              2.0;
                                sh:path               schema:birthDate
                              ];
        sh:property           [ rdfs:label   "Beroep"@nl , "Profession"@en;
                                sh:datatype  xsd:string;
                                sh:group     personObservation:personListingGroup;
                                sh:maxCount  1;
                                sh:order     10.0;
                                sh:path      schema:hasOccupation
                              ];
        sh:property           [ rdfs:label        "Opmerkingen"@nl , "Remarks"@en;
                                dash:editor       dash:TextAreaEditor;
                                memorix:audience  memorix:AudienceInternal;
                                sh:datatype       xsd:string;
                                sh:group          personObservation:managementGroup;
                                sh:maxCount       1;
                                sh:order          7.0;
                                sh:path           saa:internalRemarks
                              ];
        sh:property           [ rdfs:comment  "Verwijzing naar dezelfde interne persoon of persoonsvermelding"@nl , "Link to a person or personObservation in internal source"@en;
                                rdfs:label    "Is same as (internal)"@en , "Identiek aan (intern)"@nl;
                                dash:editor   memorix:LinkedRecordEditor;
                                sh:group      personObservation:alternativeGroup;
                                sh:maxCount   100;
                                sh:nodeKind   sh:IRI;
                                sh:or         ( [ sh:class  rt:Person ]
                                                [ sh:class  rt:PersonObservation ]
                                              );
                                sh:order      15.0;
                                sh:path       saa:sameAsInternal
                              ];
        sh:targetClass        rt:PersonObservation .

pnv:PersonName  rdf:type      sh:NodeShape;
        sh:closed             true;
        sh:ignoredProperties  ( rdf:type );
        sh:property           [ rdfs:label            "Voornaam"@nl , "First name"@en;
                                memorix:inTitleAt     2.0;
                                memorix:searchWeight  5.0;
                                sh:datatype           xsd:string;
                                sh:maxCount           1;
                                sh:order              1.0;
                                sh:path               pnv:givenName
                              ];
        sh:property           [ rdfs:label         "Tussenvoegsel"@nl , "Surname prefix"@en;
                                memorix:inTitleAt  3.0;
                                sh:datatype        xsd:string;
                                sh:maxCount        1;
                                sh:order           2.0;
                                sh:path            pnv:surnamePrefix
                              ];
        sh:property           [ rdfs:label            "Achternaam"@nl , "Surname"@en;
                                memorix:inTitleAt     1.0;
                                memorix:searchWeight  8.0;
                                sh:datatype           xsd:string;
                                sh:maxCount           1;
                                sh:message            "Surname is required"@en , "Achternaam is verplicht"@nl;
                                sh:order              3.0;
                                sh:path               pnv:baseSurname
                              ];
        sh:property           [ rdfs:comment          "Verplicht veld voor PNV ontologie; de volledige naam als label"@nl , "Required field for PNV ontology"@en;
                                rdfs:label            "Letterlijke naam"@nl , "Literal name"@en;
                                memorix:searchWeight  3.0;
                                sh:datatype           xsd:string;
                                sh:maxCount           1;
                                sh:order              10.0;
                                sh:path               pnv:literalName
                              ];
        sh:targetClass        pnv:PersonName .

saa:Address  rdf:type         sh:NodeShape;
        sh:closed             true;
        sh:ignoredProperties  ( rdf:type );
        sh:property           [ rdfs:label       "Location (BAG) identifier"@en , "Locatie (BAG) identifier"@nl;
                                dash:singleLine  true;
                                sh:datatype      xsd:string;
                                sh:description   "BAG identifier (alleen cijfers)"@nl , "BAG identifier, containing only numbers"@en;
                                sh:maxCount      1000;
                                sh:message       "De waarde moet een BAG identifier zijn (uitsluitend cijfers)"@nl , "Value must be a BAG ID conatining solely numbers"@en;
                                sh:order         11.0;
                                sh:path          saa:hasOrHadSubjectBAGIdentifier
                              ];
        sh:property           [ rdfs:label      "Locatie URI (BAG)"@nl , "Location URI (BAG)"@en;
                                dash:editor     memorix:IriEditor;
                                sh:description  "Plak hier eeen BAG URI in"@nl , "Please provide a BAG URI"@en;
                                sh:flags        "i";
                                sh:maxCount     1000;
                                sh:message      "Value must start with http:// or https://"@en , "Waarde moet beginnen met http of https"@nl;
                                sh:nodeKind     sh:IRI;
                                sh:order        10.0;
                                sh:path         saa:hasOrHadSubjectBAGLocation;
                                sh:pattern      "^https?://"
                              ];
        sh:property           [ rdfs:label      "Location URI (Adamlink)"@en , "Locatie URI (Adamlink)"@nl;
                                dash:editor     memorix:IriEditor;
                                sh:description  "Please provide a Adamlink URI"@en , "Plak hier een Adamlink URI in"@nl;
                                sh:flags        "i";
                                sh:maxCount     1000;
                                sh:message      "Waarde moet beginnen met http of https"@nl , "Value must start with http:// or https://"@en;
                                sh:nodeKind     sh:IRI;
                                sh:order        12.0;
                                sh:path         saa:hasOrHadSubjectLocation;
                                sh:pattern      "^https?://"
                              ];
        sh:property           [ rdfs:label               "Straatnaam"@nl , "Street name"@en;
                                dash:editor              memorix:VocabularyEditor;
                                memorix:conceptSchemeIn  vocabularies:a4863c0c-d9e5-3902-831a-d0960e381a41;
                                sh:class                 skos:Concept;
                                sh:description           "Standardized street name from concept scheme"@en , "Gestandaardiseerde straatnaam uit het conceptschema"@nl;
                                sh:maxCount              1;
                                sh:nodeKind              sh:IRI;
                                sh:order                 6.0;
                                sh:path                  saa:street
                              ];
        sh:property           [ rdfs:label      "Straatnaam in bron (werkveld)"@nl , "Migrated streetname"@en;
                                sh:datatype     xsd:string;
                                sh:description  "Tijdelijk veld om huidige straten te migreren en later te standaardiseren"@nl , "Temporary field to migrate streets into"@en;
                                sh:maxCount     1;
                                sh:order        5.0;
                                sh:path         saa:streetTextualValue
                              ];
        sh:property           [ rdfs:label   "Huisnummer"@nl , "House number"@en;
                                sh:datatype  xsd:string;
                                sh:maxCount  1;
                                sh:order     7.0;
                                sh:path      saa:houseNumber
                              ];
        sh:property           [ rdfs:label   "Locatie coordinates"@en , "Locatie coördinaten"@nl;
                                dash:editor  memorix:LocationCoordinatesEditor;
                                memorix:audience  memorix:AudienceInternal;
                                sh:class     memorix:GeoCoordinates;
                                sh:maxCount  1;
                                sh:order     13.0;
                                sh:path      saa:hasOrHadSubjectCoordinates
                              ];
        sh:property           [ rdfs:label   "Huisnummer toevoeging"@nl , "House number addition"@en;
                                sh:datatype  xsd:string;
                                sh:maxCount  1;
                                sh:order     8.0;
                                sh:path      saa:houseNumberAddition
                              ];
        sh:targetClass        saa:Address .

saa:Specification  rdf:type   sh:NodeShape;
        sh:closed             true;
        sh:ignoredProperties  ( rdf:type );
        sh:property           [ rdfs:label               "Bijzonderheid - Type"@nl , "Detail type"@en;
                                dash:editor              memorix:VocabularyEditor;
                                memorix:conceptSchemeIn  vocabularies:6a1549c9-dd85-44e2-8424-2df0fbdf6fdc;
                                sh:class                 skos:Concept;
                                sh:maxCount              1;
                                sh:nodeKind              sh:IRI;
                                sh:order                 1.0;
                                sh:path                  saa:specificationType
                              ];
        sh:property           [ rdfs:label   "Bijzonderheid"@nl , "Detail"@en;
                                sh:datatype  xsd:string;
                                sh:maxCount  1;
                                sh:order     2.0;
                                sh:path      saa:specificationTextualValue
                              ];
        sh:targetClass        saa:Specification .

saa:Location  rdf:type        sh:NodeShape;
        sh:closed             true;
        sh:ignoredProperties  ( rdf:type );
        sh:property           [ rdfs:label               "Locatie - Type"@nl , "Location type"@en;
                                dash:editor              memorix:VocabularyEditor;
                                memorix:conceptSchemeIn  vocabularies:a949c76c-3b78-4755-937f-a9abdeda17a9;
                                sh:class                 skos:Concept;
                                sh:maxCount              1;
                                sh:nodeKind              sh:IRI;
                                sh:order                 1.0;
                                sh:path                  saa:locationType
                              ];
        sh:property           [ rdfs:label   "Locatie"@nl , "Location"@en;
                                sh:datatype  xsd:string;
                                sh:maxCount  1;
                                sh:order     2.0;
                                sh:path      saa:locationTextualValue
                              ];
        sh:targetClass        saa:Location .

