# IO === informatie-object

@prefix rdf:           <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:          <http://www.w3.org/2000/01/rdf-schema#> .

@prefix sh:            <http://www.w3.org/ns/shacl#> .

@prefix rico:          <https://www.ica.org/standards/RiC/ontology#> .
@prefix ric-voc:       <https://www.ica.org/standards/RiC/vocabularies/recordSetTypes#> .
@prefix ric-sh:        <https://data.archief.amsterdam/shapes#> .
@prefix xsd:           <http://www.w3.org/2001/XMLSchema#> .

@prefix saa-ont:       <https://data.archief.amsterdam/ontology#> .
@prefix saa-voc:       <https://data.archief.amsterdam/vocabulary#> .

ric-sh:IOShape a sh:NodeShape ;
    sh:targetClass        rico:Record ;
    rdfs:label            "informatie-object, oftewel 'document', 'computerbestand', 'akte'"@nl ;
    sh:property [
        # IO CAN link to at most one rico:DocumentaryTypeForm with rico:hasDocumentaryFormType
        sh:path           rico:hasDocumentaryFormType ;
        sh:in             ( saa-voc:NotarialDeed saa-voc:BirthCertificate saa-voc:Letter saa-voc:BuildingPermit saa-voc:Machtiging saa-voc:Foto) ; # etc. etc.
        sh:minCount       0 ;
        sh:maxCount       1 ;
    ] ;
    sh:property [
        # IO MUST link to 1 or more rico:Identifier with rico:hasOrHadIdentifier
        sh:path           rico:hasOrHadIdentifier ;
        sh:minCount       1 ;
        sh:class          rico:Identifier ;
    ] ;
    sh:property [
        # IO CAN link to 1 rico:Title with rico:hasOrHadTitle
        sh:path           rico:hasOrHadTitle ;
        sh:minCount       0 ;
        sh:maxCount       1 ;
        sh:class          rico:Title ;
    ] ;
    sh:property [
        # IO CAN link to 1 xsd:string with rico:scopeAndContent
        sh:path           rico:scopeAndContent ;
        sh:minCount       0 ;
        sh:maxCount       1 ;
        sh:datatype       xsd:string ;
    ] ;    
    sh:property [
        # IO CAN link exactly 1 rico:Date or rico:DateRange with rico:isAssociatedWithDate
        sh:path           rico:isAssociatedWithDate ;
        sh:minCount       0 ;
        sh:maxCount       1 ;
        sh:or (
            [ sh:class          rico:SingleDate ; ]
            [ sh:class          rico:DateRange ; ]
        )
    ] ;
    sh:property [
        # IO MUST link to exactly 1 rico:RecordSet with rico:isOrWasIncludedIn
        sh:path           rico:isOrWasIncludedIn ;
        sh:minCount       1 ;
        sh:maxCount       2 ;
        sh:nodeKind       sh:IRI ;    
    ] ;
    sh:property [
        # IO CAN link to 1 or more rico:Thing with rico:hasOrHadSubject
        sh:path           rico:hasOrHadSubject ;
        sh:nodeKind       sh:IRI ;    
    ] .

#### IDENTIFIER
ric-sh:IdentifierShape a sh:NodeShape ;
    sh:targetClass        rico:Identifier ;
    sh:property [
        # rico:Identifier MUST link to 1 Literal with rico:textualValue
        sh:path           rico:textualValue ;
        sh:minCount       1 ;
        sh:datatype       xsd:string ;
    ] ;
    sh:property [
        # rico:Identifier MUST link to 1 Literal with rico:hasIdentifierType
        sh:path           rico:hasIdentifierType ;
        sh:minCount       1 ;
        sh:maxCount       1 ;
        sh:class          rico:IdentifierType ;
    ] .

ric-sh:IdentifierTypeShape a sh:NodeShape ;
    sh:targetClass        rico:IdentifierType ;
    sh:property [
        # rico:IdentifierType MUST link to 1 Literal with rico:name
        sh:path           rico:name ;
        sh:minCount       1 ;
        sh:maxCount       1 ;
        sh:datatype       xsd:string ;
    ] .

#### TITLE
ric-sh:TitleShape a sh:NodeShape ;
    sh:targetClass        rico:Title ;
    sh:property [
        # rico:Title MUST link to 1 Literal with rico:textualValue
        sh:path           rico:textualValue ;
        sh:minCount       1 ;
        sh:maxCount       1 ;
        sh:datatype       xsd:string ;
    ] .

#### DATE
ric-sh:DateShape a sh:NodeShape ;
    sh:targetClass        rico:SingleDate ;
    sh:property [
        # rico:Date MUST link to 1 xsd:date with rico:hasNormalizedDateValue
        sh:path           rico:hasNormalizedDateValue ;
        rdfs:label        "identifier"@nl ;
        sh:minCount       1 ;
        sh:maxCount       1 ;
        sh:or (
            [ sh:datatype xsd:date ] 
            [ sh:datatype xsd:gYear ] 
        ) ;
    ] ;
    sh:property [
        # rico:Date CAN link to 1 xsd:string with rico:expressedDate
        sh:path           rico:expressedDate ;
        sh:minCount       0 ;
        sh:maxCount       1 ;
        sh:datatype       xsd:string ;
    ] .

ric-sh:DateRangeShape a sh:NodeShape ;
    sh:targetClass        rico:DateRange ;
    sh:property [
        # rico:DateRange MUST link to 1 rico:Date with rico:hasBeginningDate
        sh:path           rico:hasBeginningDate ;
        sh:minCount       1 ;
        sh:maxCount       1 ;
        sh:class          rico:SingleDate ;
    ] ;
    sh:property [
        # rico:DateRange MUST link to 1 rico:Date with rico:hasBeginningDate
        sh:path           rico:hasEndDate ;
        sh:minCount       1 ;
        sh:maxCount       1 ;
        sh:class          rico:SingleDate ;
    ] ;
    sh:property [
        # rico:DateRange CAN link to 1 xsd:string with rico:expressedDate
        sh:path           rico:expressedDate ;
        sh:minCount       0 ;
        sh:maxCount       1 ;
        sh:datatype       xsd:string ;
    ] .
